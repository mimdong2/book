### 목차
- [최적화는 신중히 해야한다](#최적화는-신중히-해야한다)
- [빠른 프로그램보다는 좋은 프로그램을 작성하라](#빠른-프로그램보다는-좋은-프로그램을-작성하라)
- [성능을 제한하는 설계를 피하라](#성능을-제한하는-설계를-피하라)
- [API를 설계할 때 성능에 주는 영향을 고려하라](#api를-설계할-때-성능에-주는-영향을-고려하라)
- [잘 설계된 API는 성능도 좋은게 보통이므로 성능을 위해 API를 왜곡하지 말자](#잘-설계된-api는-성능도-좋은게-보통이므로-성능을-위해-api를-왜곡하지-말자)
- [최적화 시도 전후로 성능을 측정하라](#최적화-시도-전후로-성능을-측정하라)

## 최적화는 신중히 해야한다
- 최적화는 좋은 결과보다는 해로운 결과로 이어지기 쉽고, 섣불리 진행하면 특히 더 그렇다.
- 빠르지도 않고 제대로 동작하지도 않으면서 수정하기는 어려운 소프트웨어를 탄생시키는 것이다.

<br>

## 빠른 프로그램보다는 좋은 프로그램을 작성하라
- 성능 때문에 견고한 구조를 희생하지 말자.
- 좋은 프로그램은 정보 은닉 원칙을 따르므로, 시스템의 나머지에 영향을 주지 않고도 각 요소를 다시 설계할 수 있다.
- 성능 같은 구현상의 문제는 나중에 최적화해 해결할 수 있지만, 아키텍처의 결은 시스템 전체를 다시 작성하지 않고는 해결하기 불가할 수 있다.

<br>

## 성능을 제한하는 설계를 피하라
- 완성 후 변경하기 가장 어려운 설계 요소는 컴포넌트 끼리, 혹은 외부 시스템과의 소통방식이다.
  - API, 네트워크 프로토콜, 영구 저장용 데이터 포맷 등
- 즉 이런 요소를 설계할 일이 있을 경우, 성능을 염두해야 한다.

<br>

## API를 설계할 때 성능에 주는 영향을 고려하라
- public 타입을 가변으로 만들면, 불필요한 방어적 복사를 수없이 유발할 수 있다. ([아이템 50](../Chapter%2008.%20메서드/Item%2050.%20적시에%20방어적%20복사본을%20만들라.md))
- 컴포지션으로 해결할 수 있음에도 상속 방식으로 설계한 public 클래스는 상위 클래스에 영원히 종속되며 그 성능 제약까지도 물려받게 된다. (아이템 18)
- 인터페이스에도 있는데 굳이 구현 타입을 사용하면 특정 구현체에 종속되고, 나중에 더 빠른 구현체가 나오더라도 이용하지 못하게 된다. (아이템 64)

<br>

## 잘 설계된 API는 성능도 좋은게 보통이므로 성능을 위해 API를 왜곡하지 말자
- API를 왜곡하도록 만든 그 성능 문제는 해당 플랫폼이나 아랫단 소프트웨어의 다음 버전에서 사라질 수 있다.
- 하지만 왜곡된 API와 이를 지원하는데 따르는 고통은 영원히 계속된다.

<br>

## 최적화 시도 전후로 성능을 측정하라
- 최적화 후에 성능이 크게 좋아지지 않거나, 심지어 더 나빠지게 할 때도 있다.
- 프로파일링 도구를 활용하여 최적화 노력을 어디에 집중해야 할 지 찾을 수 있다.
  - 개별 메서드의 소비 시간과 호출 횟수 같은 런타임 정보를 제공한다.
- 프로파일링 도구는 아니나, 자바 코드의 상세한 성능을 알기 쉽게 보여주는 벤치마킹 프로그래밍워크인 jmh 도 있다.
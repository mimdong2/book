### 목차
- [리눅스 시스템의 부팅](#리눅스-시스템의-부팅)
- [init 프로세스와 런레벨](#init-프로세스와-런레벨)
- [리눅스 시스템의 종료](#리눅스-시스템의-종료)
- [데몬 프로세스](#데몬-프로세스)


## 리눅스 시스템의 부팅
리눅스의 부팅은 PC의 전원을 켜는 순간부터 리눅스가 완전히 동작하여 로그인 프롬포트가 출력될 때까지를 말한다. 즉, 리눅스가 설치된 하드웨어(예:PC)의 부팅과 리눅스 운영체제의 부팅 절차로 구분할 수 있다.
> 리눅스 시스템의 부팅 : PC 부팅 -> 리눅스 부팅  
>> PC 부팅 : 전원 ON -> 바이오스 단계  
>> 리눅스 부팅 : 부트 로더 단계 -> 커널 초기화 단계 -> init 실행 단계 -> 로그인 프롬프트 출력
### 바이오스 단계
PC에 장착된 기본적인 하드웨어(키보드, 디스크 등)의 상태를 확인 한 후, MBR과 부트로더를 로딩한다. BIOS는 Basic Input/Output System의 약자이다.
### 부트 로더 단계
대표적인 부트 로더는 GRUB이며, 부트 로더는 리눅스 커널을 메모리에 로딩하는 역할을 수행한다.
### 커널 초기화 단계
커널은 가장 먼저 시스템에 연결된 메모리, 디스크, 키보드, 마우스 등의 장치 검사를 하고, 프로세스와 스레드를 생성한다.
### init 실행 단계
다양한 서비스 데몬을 시작한다.
### 로그인 프롬프트 출력
모든 데몬을 동작시키고 끝으로 로그인 프롬프트를 출력한다.


## init 프로세스와 런레벨
### init 프로세스
PID가 1번인 프로세스로 모든 프로세스의 조상 역할을 한다. init 프로세스는 부팅 과정에서 커널에 의해 실행되고, 각종 서비스를 제공하는 다른 프로세스를 동작시키는 역할을 한다.  
최근 우분투를 비롯해 유닉스나 리눅스 대부분이 스크립트를 순차적으로 실행하는 기존의 방식을 바꿔 이벤트 기반으로 동작하는 방식으로 init를 대체하고 있다. 우분투는 자체적으로 개발한 upstart를 init대신 사용한다.
### init 프로세스와 스크립트 파일
우분투에는 upstart용 스크립트와 기존 init용 스크립트도 공존하는 경우, upstart용 스크립트가 우선적으로 적용된다.
- upstart
    - 스크립트 파일 : /etc/init 디렉터리에 '작업명.conf'파일로 구성되어 있다.
    - 스크립트 실행 방법
        - initctl [start|stop|restart|reload|status] 작업명
        - [start|stop|restart|reload|status] 작업명
- 기존 init
    - 스크립트 파일 : /etc/init.d 디렉터리에 있다.
    - 스크립트 실행 방법
        - service 스크립트명 [start|stop|restart|reload|status]
        - /etc/init.d/스크립트명 [start|stop|restart|reload|status]


## 리눅스 시스템의 종료
리눅스를 종료하는 방법은 다음과 같이 여러 가지가 있다.
- 방법 1. shutdown 명령 사용하기
> shutdown [옵션] [시간] [메세지]  
> 옵션 -k : 실제로 시스템을 종료하는 것이 아니라 사용자들에게 메시지만 전달한다.  
> 옵션 -r : 종료 후 재시작한다.  
> 옵션 -h : 종료하면서 halt나 power-off 상태로 이동한다.  
> 옵션 -c : 이전에 했던 shutdown 명령을 취소한다.  
> 시간 : 종료할 시간(hh:mm, +m, now)  
> 메시지 : 모든 사용자에게 보낼 메시지  
>> 사용 예시  
>> shutdown -h now : 즉시 시스템 종료  
>> shutdown -h +1 "System down" : 사용자들에게 메시지 송신 후 시스템 종료  
>> shutdown -r +1 : 1분 후에 시스템 재시작  
>> shutdown -c : shutdown  명령 취소  
>> shutdown -k 1 : 사용자들에게 메시지만 송신
- 방법 2. 럴레벨 변경하기
    - telinit 0 : 런레벨0(시스템 종료)으로 변경
    - telinit 6 : 런레벨6(재시작)으로 변경
- 방법 3. 기타 명령어
halt, poweroff, reboot 명령 사용
- 방법 4. 전원을 끈다.


## 데몬 프로세스
데몬은 리눅스의 백그라운드에서 동작하면서 특정한 서비스를 제공하는 프로세스를 의미한다. 리눅스 시스템에서 동작하는 웹 서버나 데이터베이스 서버, 원격 접속 서버 등 각종 서비스를 제공하는 프로세스들이 바로 데몬이다.
### 데몬의 동작방식
- 독자형 : 백그라운드에서 항상 동작하여 자원을 낭비할 우려가 있다.
- 수퍼 데몬에 의한 호출 : 평소에는 수퍼 데몬만 동작하다가 서비스 요청이 오면 수퍼데몬이 해당 데몬을 동작시키기 때문에 호출에 시간이 걸릴 수는 있으나 자원을 효율적으로 사용 가능하다.
### 수퍼 데몬
데몬의 종류가 늘어나자 이를 관리하기 위한 수퍼 데몬이 나왔고, 우분투에서는 xinetd를 사용하고 있다. 수퍼 데몬은 네트워크 서비스를 제공하는 데몬만 관리하는데, 즉, 사용자가 네트워크 서비스를 요청하면 수퍼 데몬이 이를 받아서 해당하는 서비스 데몬을 동작시키는 것이다.
### 데몬의 조상
- init : 1번 프로세스이자 대부분의 조상 프로세스
- kthreadd : 2번 프로세스이자 커널 스레드 데몬
### 주요 데몬
crond, httpd, nfs, smtpd, syslogd, sshd 등 
